2025-11-13 10:58:26,578 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 10:58:26,578 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 10:58:27,166 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 10:58:27,178 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:27,769 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000}]}
2025-11-13 10:58:27,774 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:29,428 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":2}
2025-11-13 10:58:29,428 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=2
2025-11-13 10:58:29,428 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:29,987 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":3}
2025-11-13 10:58:29,989 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=3
2025-11-13 10:58:29,989 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:30,466 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":4}
2025-11-13 10:58:30,469 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=4
2025-11-13 10:58:30,469 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:30,947 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763002710378853319430019], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 10:58:30,949 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 10:58:30,950 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:31,479 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":5}
2025-11-13 10:58:31,481 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=9999 实际id=5
2025-11-13 10:58:31,481 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 10:58:32,045 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":6}
2025-11-13 10:58:32,048 - [INFO] - prepare_test_data.py:34 - ✅ 为 get_department 预置部门: YAML写id=2 实际id=6
2025-11-13 10:58:32,051 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 10:58:32,517 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 10:58:32,527 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:32,954 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002712596313979764008], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:32,955 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:34,381 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002714443034261595021], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:34,384 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:34,862 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002714552653062142798], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:34,865 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:35,318 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002715016363632211960], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:35,320 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:38,737 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002718598870040220919], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:38,738 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:39,126 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002719197392350401991], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:39,128 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 10:58:42,585 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763002722194830476861249], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 10:58:42,587 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 10:58:44,120 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 10:58:44,131 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 10:58:44,541 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763002724035893625505917], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 10:58:44,542 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 3, 'tagname': '预置_delete_tag_3'}}
2025-11-13 10:58:44,542 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 10:58:44,950 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002724560330926519908], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 10:58:44,950 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002724560330926519908], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 10:58:44,951 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 10:58:45,376 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763002725614671677804642], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 10:58:45,379 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_delete_tag_9999'}}
2025-11-13 10:58:45,379 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 10:58:45,782 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002725430053137604110], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 10:58:45,783 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002725430053137604110], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 10:58:45,783 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 10:58:46,175 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763002726601432485433677], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 10:58:46,178 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 2, 'tagname': '预置_update_tag_2'}}
2025-11-13 10:58:46,178 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 10:58:47,581 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002727358773708968476], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 10:58:47,584 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002727358773708968476], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 10:58:47,584 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 10:58:48,149 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763002728617340040722241], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 10:58:48,151 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_update_tag_9999'}}
2025-11-13 10:58:48,151 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 10:58:48,525 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002728491620744405145], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 10:58:48,527 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763002728491620744405145], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 10:58:48,531 - [INFO] - prepare_test_data.py:97 - ========== 测试数据准备完成 ==========
2025-11-13 10:58:48,531 - [INFO] - conftest.py:19 - 环境数据准备完成。
2025-11-13 10:58:48,531 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 10:58:49,055 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 10:58:49,063 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw&id=5
2025-11-13 10:58:52,711 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"deleted"}
2025-11-13 10:58:52,712 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 10:58:52,723 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 10:58:52,727 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw&id=1
2025-11-13 10:58:53,258 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60005,"errmsg":"department contains user, hint: [1763002733612220924924308], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60005"}
2025-11-13 10:58:53,258 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60005
2025-11-13 10:58:53,258 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 10:58:53,260 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw&id=99999
2025-11-13 10:58:53,668 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763002733609660719202535], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 10:58:53,669 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60123
2025-11-13 10:58:53,672 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 11:22:30,644 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 11:22:30,644 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 11:22:31,246 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 11:22:31,248 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:31,734 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000},{"id":2,"parentid":1,"order":100000000},{"id":3,"parentid":1,"order":99999000},{"id":4,"parentid":1,"order":99998000},{"id":6,"parentid":1,"order":99996000}]}
2025-11-13 11:22:31,745 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:32,317 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763004152560331763587058], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 11:22:32,317 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=None
2025-11-13 11:22:32,317 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:32,883 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763004152345573173558730], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 11:22:32,886 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=None
2025-11-13 11:22:32,886 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:33,497 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763004153617340600180096], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 11:22:33,498 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 11:22:33,498 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:34,021 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763004153192273256655932], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 11:22:34,023 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 11:22:34,024 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:34,727 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":7}
2025-11-13 11:22:34,729 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=9999 实际id=7
2025-11-13 11:22:34,729 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:35,203 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763004155189710989950497], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 11:22:35,205 - [INFO] - prepare_test_data.py:34 - ✅ 为 get_department 预置部门: YAML写id=2 实际id=None
2025-11-13 11:22:35,208 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 11:22:35,837 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 11:22:35,850 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:36,317 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004156201851312055664], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:36,317 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:36,775 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004156199951237507839], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:36,776 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:37,647 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004157184594148553342], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:37,648 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:38,275 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004158189712497996190], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:38,276 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:38,719 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004158194173269767479], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:38,720 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:39,151 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004159192273748593911], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:39,152 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 11:22:39,596 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763004159601430587098894], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 11:22:39,597 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 11:22:40,178 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 11:22:40,184 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 11:22:40,768 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763004160491621472530910], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 11:22:40,769 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 3, 'tagname': '预置_delete_tag_3'}}
2025-11-13 11:22:40,769 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 11:22:41,280 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004161022872357367402], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 11:22:41,280 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004161022872357367402], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 11:22:41,281 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 11:22:41,792 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763004161199953905357618], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 11:22:41,793 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_delete_tag_9999'}}
2025-11-13 11:22:41,794 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 11:22:42,372 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004162596314284563476], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 11:22:42,374 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004162596314284563476], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 11:22:42,374 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 11:22:42,837 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763004162196731405675859], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 11:22:42,839 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 2, 'tagname': '预置_update_tag_2'}}
2025-11-13 11:22:42,839 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 11:22:43,390 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004163560333763018156], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 11:22:43,392 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004163560333763018156], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 11:22:43,393 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 11:22:46,864 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763004166560331136415795], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 11:22:46,865 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_update_tag_9999'}}
2025-11-13 11:22:46,865 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 11:22:47,388 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004167601430405224303], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 11:22:47,389 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763004167601430405224303], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 11:22:47,391 - [INFO] - prepare_test_data.py:97 - ========== 测试数据准备完成 ==========
2025-11-13 11:22:47,391 - [INFO] - conftest.py:19 - 环境数据准备完成。
2025-11-13 11:22:47,391 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 11:22:47,929 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw","expires_in":7200}
2025-11-13 11:22:47,934 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:48,581 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 11:22:48,582 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 11:22:48,584 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 11:22:48,587 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:49,160 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 11:22:49,160 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 11:22:49,163 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 11:22:49,168 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=sGTJ9Fb63MUv1oWeZB-Yu6d-G-gcfGQNBC8IDvHTL4kOv2UNwmAQhYrCO6yZe8lHLDL9lYzwvWgTiNMqIgeqaPyt0o1oqplpEBUenRGofjJ85N9a64a9gpn7sAWW6WMKi6QjIEBnR5QuBWw_6nXTJoW8hZwq8s2HOtWSNXTYMS1ODCMxAJX1HjNWgUSYeZkIdjYN-eLIWAPZiUArOGCcgw
2025-11-13 11:22:50,659 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60003,"errmsg":"department not found, hint: [1763004170430051186259564], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"}
2025-11-13 11:22:50,659 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60003
2025-11-13 11:22:50,660 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 19:43:13,535 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 19:43:13,535 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 19:43:14,589 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 19:43:14,590 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:43:15,103 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000},{"id":2,"parentid":1,"order":100000000},{"id":3,"parentid":1,"order":99999000},{"id":4,"parentid":1,"order":99998000},{"id":6,"parentid":1,"order":99996000},{"id":7,"parentid":1,"order":99995000}]}
2025-11-13 19:43:15,109 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:43:15,639 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034196612223436758607], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:43:15,640 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=None
2025-11-13 19:43:15,640 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:43:23,290 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":8}
2025-11-13 19:43:23,292 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=8
2025-11-13 19:43:23,293 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:43:24,133 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034204614784269271974], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:43:24,135 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 19:43:24,136 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:43:25,757 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034206552654089404510], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:43:25,759 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 19:43:25,759 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:31,369 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 19:44:31,369 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 19:44:34,074 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 19:44:34,076 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:41,711 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000},{"id":2,"parentid":1,"order":100000000},{"id":3,"parentid":1,"order":99999000},{"id":4,"parentid":1,"order":99998000},{"id":6,"parentid":1,"order":99996000},{"id":7,"parentid":1,"order":99995000},{"id":8,"parentid":1,"order":99994000}]}
2025-11-13 19:44:41,720 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:42,857 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034282550091431118679], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:44:42,857 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=None
2025-11-13 19:44:42,858 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:43,835 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034284022873723556066], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:44:43,836 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=None
2025-11-13 19:44:43,836 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:56,608 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034296025434198495876], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:44:56,608 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 19:44:56,608 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:57,539 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034297345572478884723], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:44:57,541 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 19:44:57,541 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:58,211 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034298194833799839787], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:44:58,213 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=9999 实际id=None
2025-11-13 19:44:58,213 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:44:59,063 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763034299560330050425827], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 19:44:59,064 - [INFO] - prepare_test_data.py:34 - ✅ 为 get_department 预置部门: YAML写id=2 实际id=None
2025-11-13 19:44:59,068 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 19:45:06,759 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 19:45:06,765 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:08,384 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034308430053353172457], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:08,384 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:11,417 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034311596310773282016], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:11,418 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:14,868 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034315443030452453466], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:14,870 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:18,472 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034318204414174720032], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:18,474 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:19,967 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034320430053199064067], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:19,968 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:23,439 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034323612221866547856], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:23,441 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 19:45:23,975 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763034324596311912568959], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 19:45:23,978 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 19:45:39,545 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 19:45:39,577 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 19:45:41,472 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763034341427494264401557], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 19:45:41,472 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 3, 'tagname': '预置_delete_tag_3'}}
2025-11-13 19:45:41,473 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 19:45:43,045 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034343199950879746516], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 19:45:43,045 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034343199950879746516], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 19:45:43,046 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 19:45:43,575 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763034344491623421547318], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 19:45:43,577 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_delete_tag_9999'}}
2025-11-13 19:45:43,577 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 19:45:45,037 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034345038292199894502], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 19:45:45,038 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034345038292199894502], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 19:45:45,038 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 19:45:46,720 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763034347596313211820721], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 19:45:46,723 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 2, 'tagname': '预置_update_tag_2'}}
2025-11-13 19:45:46,723 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 19:45:55,282 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034355617342318089904], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 19:45:55,284 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034355617342318089904], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 19:45:55,285 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 19:45:55,920 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763034356555212715818022], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 19:45:55,922 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_update_tag_9999'}}
2025-11-13 19:45:55,923 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 19:45:57,464 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034357489061552627491], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 19:45:57,465 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763034357489061552627491], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 19:45:57,467 - [INFO] - prepare_test_data.py:97 - ========== 测试数据准备完成 ==========
2025-11-13 19:45:57,467 - [INFO] - conftest.py:19 - 环境数据准备完成。
2025-11-13 19:45:57,467 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 19:45:59,062 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 19:45:59,073 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 19:46:00,651 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":2,"parentid":1,"order":100000000}]}
2025-11-13 19:46:00,652 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 19:46:00,663 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:36:46,826 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 20:36:46,826 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:36:47,505 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:36:47,514 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:36:48,045 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000},{"id":2,"parentid":1,"order":100000000},{"id":3,"parentid":1,"order":99999000},{"id":4,"parentid":1,"order":99998000},{"id":6,"parentid":1,"order":99996000},{"id":7,"parentid":1,"order":99995000},{"id":8,"parentid":1,"order":99994000}]}
2025-11-13 20:36:48,052 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:36:48,589 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037409611670405392338], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:36:48,589 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=None
2025-11-13 20:36:48,589 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:36:50,492 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037410025430521022759], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:36:50,494 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=None
2025-11-13 20:36:50,494 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:36:54,361 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037414557772704894630], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:36:54,362 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 20:36:54,362 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:36:56,358 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037416552652174790055], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:36:56,360 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 20:36:56,360 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:37:12,666 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037433552653098258146], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:37:12,667 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=9999 实际id=None
2025-11-13 20:37:12,667 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:37:20,760 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037440427490281721858], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:37:20,763 - [INFO] - prepare_test_data.py:34 - ✅ 为 get_department 预置部门: YAML写id=2 实际id=None
2025-11-13 20:37:20,767 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:37:28,403 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:37:28,415 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:02,851 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037483194832987262165], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:02,851 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:04,591 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037485022873691663135], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:04,592 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:07,499 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037487176914213955337], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:07,500 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:11,074 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037488552653348276465], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:11,075 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:12,523 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037493025431608058523], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:12,524 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:13,698 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037493496744230773930], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:13,699 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:38:18,195 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037498547530033959381], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:38:18,196 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:38:22,583 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:38:22,587 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:38:26,084 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037506598872673264287], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:38:26,084 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 3, 'tagname': '预置_delete_tag_3'}}
2025-11-13 20:38:26,084 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:38:26,591 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037507617232921649071], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:38:26,591 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037507617232921649071], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:38:26,591 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:38:49,146 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037529025433317424437], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:38:49,149 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_delete_tag_9999'}}
2025-11-13 20:38:49,149 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:38:49,610 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037530448152773622615], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:38:49,612 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037530448152773622615], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:38:49,612 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:38:50,080 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037530182031822069918], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:38:50,081 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 2, 'tagname': '预置_update_tag_2'}}
2025-11-13 20:38:50,081 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:38:50,692 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037531612223988257112], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:38:50,703 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037531612223988257112], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:38:50,704 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:38:55,358 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037535611672595978010], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:38:55,359 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_update_tag_9999'}}
2025-11-13 20:38:55,359 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:38:56,656 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037536022873340514627], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:38:56,657 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037536022873340514627], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:38:56,660 - [INFO] - prepare_test_data.py:97 - ========== 测试数据准备完成 ==========
2025-11-13 20:38:56,660 - [INFO] - conftest.py:19 - 环境数据准备完成。
2025-11-13 20:38:56,661 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:38:58,226 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:38:58,570 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:38:59,037 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":2,"parentid":1,"order":100000000}]}
2025-11-13 20:38:59,038 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:38:59,039 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:38:59,043 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:38:59,565 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 20:38:59,565 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:38:59,566 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:38:59,568 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:39:07,216 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 20:39:07,216 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:39:07,216 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:39:07,218 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:39:10,871 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60003,"errmsg":"department not found, hint: [1763037551201851351611015], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"}
2025-11-13 20:39:10,872 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60003
2025-11-13 20:39:10,872 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:39:10,874 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA&id=5
2025-11-13 20:39:12,367 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763037552437732654054968], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 20:39:12,368 - [ERROR] - assertions.py:31 - 
❌ JSONPath 断言失败：$.errcode
期望值: 0
实际值: 60123

2025-11-13 20:39:12,383 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA&id=1
2025-11-13 20:39:20,406 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60005,"errmsg":"department contains user, hint: [1763037560038294279266713], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60005"}
2025-11-13 20:39:20,406 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60005
2025-11-13 20:39:20,406 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:39:20,408 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA&id=99999
2025-11-13 20:39:27,871 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763037565176910424839269], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 20:39:27,871 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60123
2025-11-13 20:39:27,871 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:40:23,896 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 20:40:23,897 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:40:24,499 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:40:24,501 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:25,031 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000},{"id":2,"parentid":1,"order":100000000},{"id":3,"parentid":1,"order":99999000},{"id":4,"parentid":1,"order":99998000},{"id":6,"parentid":1,"order":99996000},{"id":7,"parentid":1,"order":99995000},{"id":8,"parentid":1,"order":99994000}]}
2025-11-13 20:40:25,036 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:26,651 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037627617341252342295], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:40:26,651 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=None
2025-11-13 20:40:26,651 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:30,266 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037630199950673945250], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:40:30,266 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=None
2025-11-13 20:40:30,266 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:45,933 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037646176911685689205], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:40:45,935 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 20:40:45,935 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:46,661 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037647614670148437853], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:40:46,664 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 20:40:46,664 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:55,322 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037655430052416579195], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:40:55,324 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=9999 实际id=None
2025-11-13 20:40:55,324 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:40:57,901 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037658609661650741104], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:40:57,904 - [INFO] - prepare_test_data.py:34 - ✅ 为 get_department 预置部门: YAML写id=2 实际id=None
2025-11-13 20:40:57,907 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:41:05,489 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:41:05,503 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:07,425 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037667612222654109954], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:07,426 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:10,409 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037670550093723538256], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:10,411 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:12,933 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037673197390006377369], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:12,934 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:14,419 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037674617233223647404], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:14,421 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:17,339 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037677596311733355453], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:17,340 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:18,893 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037679614782302430841], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:18,894 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:41:20,401 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037680025432520142114], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:41:20,406 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:41:20,928 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:41:20,931 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:41:22,464 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037682611670558110535], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:41:22,465 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 3, 'tagname': '预置_delete_tag_3'}}
2025-11-13 20:41:22,465 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:41:23,026 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037683192273927669515], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:41:23,026 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037683192273927669515], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:41:23,026 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:41:24,058 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037684201853250704078], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:41:24,060 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_delete_tag_9999'}}
2025-11-13 20:41:24,060 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:41:25,019 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037685025432551240422], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:41:25,020 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037685025432551240422], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:41:25,021 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:41:25,633 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037686593753468684079], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:41:25,634 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 2, 'tagname': '预置_update_tag_2'}}
2025-11-13 20:41:25,634 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:41:42,683 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037703603991503716531], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:41:42,684 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037703603991503716531], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:41:42,684 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:42:04,793 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037724614780878057111], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:42:04,794 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_update_tag_9999'}}
2025-11-13 20:42:04,794 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:42:08,321 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037728486501400802787], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:42:08,322 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037728486501400802787], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:42:08,323 - [INFO] - prepare_test_data.py:97 - ========== 测试数据准备完成 ==========
2025-11-13 20:42:08,323 - [INFO] - conftest.py:19 - 环境数据准备完成。
2025-11-13 20:42:08,323 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:42:08,872 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA","expires_in":7200}
2025-11-13 20:42:09,214 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:42:09,731 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":2,"parentid":1,"order":100000000}]}
2025-11-13 20:42:09,731 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:42:09,732 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:42:09,734 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:42:14,912 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 20:42:14,913 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:42:14,913 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:42:14,915 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:42:15,449 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 20:42:15,449 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:42:15,450 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:42:15,451 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA
2025-11-13 20:42:16,960 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60003,"errmsg":"department not found, hint: [1763037737358773772013023], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"}
2025-11-13 20:42:16,960 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60003
2025-11-13 20:42:16,960 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:42:16,962 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA&id=5
2025-11-13 20:42:17,437 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763037737176911747414730], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 20:42:17,437 - [ERROR] - assertions.py:31 - 
❌ JSONPath 断言失败：$.errcode
期望值: 0
实际值: 60123

2025-11-13 20:42:17,441 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA&id=1
2025-11-13 20:42:18,009 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60005,"errmsg":"department contains user, hint: [1763037738614783706824334], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60005"}
2025-11-13 20:42:18,009 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60005
2025-11-13 20:42:18,010 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:42:18,012 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=-S0H9DXEF2SSY9RtsaiRbd7GZ2qlnOMrBmMuRKhZaV-CKJpZJsT8ffrfoicBLQWRW_llVur890uvNaCR7pCbTgC0qYAMAjr-nTR3Xk5qqKs1eut3dyMKtIeyEtANkNzFgwZo0IrVc8e6HEnMdHH-yyIPJWswnLBVWy9Wqrg6bj7qPgTq4H25NeYe89CXrSgwTX-w2RUEhvGTYV4sg1aCCA&id=99999
2025-11-13 20:42:18,533 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763037739189713001793807], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 20:42:18,533 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60123
2025-11-13 20:42:18,533 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:43:12,985 - [INFO] - conftest.py:17 - 开始执行环境数据准备...
2025-11-13 20:43:12,985 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:43:13,617 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA","expires_in":7200}
2025-11-13 20:43:13,627 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:43:33,858 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":1,"parentid":0,"order":100000000},{"id":2,"parentid":1,"order":100000000},{"id":3,"parentid":1,"order":99999000},{"id":4,"parentid":1,"order":99998000},{"id":6,"parentid":1,"order":99996000},{"id":7,"parentid":1,"order":99995000},{"id":8,"parentid":1,"order":99994000}]}
2025-11-13 20:43:33,867 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:43:34,424 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037814547532801769112], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:43:34,424 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=5 实际id=None
2025-11-13 20:43:34,425 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:43:43,096 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037822194833344106994], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:43:43,098 - [INFO] - prepare_test_data.py:34 - ✅ 为 delete_department 预置部门: YAML写id=99999 实际id=None
2025-11-13 20:43:43,098 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:43:50,832 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037831356211682820395], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:43:50,834 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 20:43:50,835 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:43:58,966 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037838486502184989520], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:43:58,968 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=3 实际id=None
2025-11-13 20:43:58,968 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:43:59,475 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037839194172022670759], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:43:59,476 - [INFO] - prepare_test_data.py:34 - ✅ 为 update_department 预置部门: YAML写id=9999 实际id=None
2025-11-13 20:43:59,477 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:01,168 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037841491623015510696], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:44:01,171 - [INFO] - prepare_test_data.py:34 - ✅ 为 get_department 预置部门: YAML写id=2 实际id=None
2025-11-13 20:44:01,174 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:44:01,692 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA","expires_in":7200}
2025-11-13 20:44:01,703 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:02,146 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037842442851107280040], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:02,146 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:02,648 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037843547532910241810], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:02,649 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:04,086 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037844612223980731573], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:04,088 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:04,527 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037845442854035752978], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:04,530 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:04,994 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037845016364046035904], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:04,997 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:05,449 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037845184592329902097], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:05,451 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/user/get
2025-11-13 20:44:05,878 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":48009,"errmsg":"api forbidden for contact assistant, hint: [1763037846378852145454725], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=48009","department":[],"order":[],"is_leader_in_dept":[],"direct_leader":[]}
2025-11-13 20:44:05,880 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:44:06,345 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA","expires_in":7200}
2025-11-13 20:44:06,349 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:44:07,816 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037848427493992443179], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:44:07,817 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 3, 'tagname': '预置_delete_tag_3'}}
2025-11-13 20:44:07,817 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:44:08,248 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037848025431151770277], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:08,249 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037848025431151770277], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:44:08,249 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:44:09,683 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037850596313426861663], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:44:09,684 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_delete_tag_9999'}}
2025-11-13 20:44:09,684 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:44:13,630 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037854557770470432389], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:13,633 - [INFO] - prepare_test_data.py:80 - ✅ 为 delete_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037854557770470432389], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:44:13,633 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:44:17,104 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037857199950578957131], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:44:17,107 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 2, 'tagname': '预置_update_tag_2'}}
2025-11-13 20:44:17,107 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:44:24,594 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037865614782052502590], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:24,597 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037865614782052502590], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:44:24,597 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/get
2025-11-13 20:44:26,037 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40068,"errmsg":"invalid tagid/groupid, hint: [1763037866606552569476530], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40068","userlist":[],"partylist":[]}
2025-11-13 20:44:26,039 - [INFO] - tags.py:18 - 创建标签请求体: {'tagname': {'tagid': 9999, 'tagname': '预置_update_tag_9999'}}
2025-11-13 20:44:26,039 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/tag/create
2025-11-13 20:44:26,459 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037867358770568671321], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:26,460 - [INFO] - prepare_test_data.py:80 - ✅ 为 update_tag 预置标签: {'errcode': 40058, 'errmsg': 'field `tagname` expect type `string`. invalid Request Parameter, hint: [1763037867358770568671321], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058'}
2025-11-13 20:44:26,462 - [INFO] - prepare_test_data.py:97 - ========== 测试数据准备完成 ==========
2025-11-13 20:44:26,462 - [INFO] - conftest.py:19 - 环境数据准备完成。
2025-11-13 20:44:26,462 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=ww779187ee7c9f7085&corpsecret=AAR4FC_5E6m4mbvKWepNrLt7qPFdIHXrjrK77sQcNqE
2025-11-13 20:44:27,970 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","access_token":"Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA","expires_in":7200}
2025-11-13 20:44:27,975 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:28,524 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":9}
2025-11-13 20:44:28,524 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:44:28,525 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:28,528 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:30,136 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":10}
2025-11-13 20:44:30,136 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:44:30,137 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:30,142 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:30,774 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":11}
2025-11-13 20:44:30,782 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:44:30,782 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:30,785 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:31,350 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":12}
2025-11-13 20:44:31,350 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:44:31,351 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:31,353 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:48,340 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"name exceed min utf8 words 1. invalid Request Parameter, hint: [1763037888430053855247078], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:48,340 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 40058
2025-11-13 20:44:48,342 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:48,344 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:48,846 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"name exceed max utf8 words 64. invalid Request Parameter, hint: [1763037889445412063171952], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:48,846 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 40058
2025-11-13 20:44:48,848 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:48,850 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:50,329 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037890489062008508938], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:44:50,329 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60008
2025-11-13 20:44:50,330 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:50,334 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:57,971 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60008,"errmsg":"department existed, hint: [1763037898598874293254719], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60008"}
2025-11-13 20:44:57,971 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60008
2025-11-13 20:44:57,972 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:57,976 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:44:58,584 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":40058,"errmsg":"field `id` expect type `uint32`. invalid Request Parameter, hint: [1763037899378851833068449], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=40058"}
2025-11-13 20:44:58,585 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 40058
2025-11-13 20:44:58,587 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:44:58,591 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:14,155 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60004,"errmsg":"parent department not found, hint: [1763037914016362178101471], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60004"}
2025-11-13 20:45:14,155 - [ERROR] - assertions.py:31 - 
❌ JSONPath 断言失败：$.errcode
期望值: 60003
实际值: 60004

2025-11-13 20:45:14,197 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:14,982 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":13}
2025-11-13 20:45:14,982 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:45:14,983 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:45:14,986 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:18,556 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":14}
2025-11-13 20:45:18,556 - [ERROR] - assertions.py:31 - 
❌ JSONPath 断言失败：$.errcode
期望值: 40058
实际值: 0

2025-11-13 20:45:18,563 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/create?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:34,239 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"created","id":15}
2025-11-13 20:45:34,239 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:45:34,240 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:45:34,244 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/simplelist?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:35,086 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"ok","department_id":[{"id":2,"parentid":1,"order":100000000},{"id":10,"parentid":2,"order":100000000}]}
2025-11-13 20:45:35,087 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:45:35,089 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:45:35,092 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:36,625 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 20:45:36,625 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:45:36,626 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:45:36,628 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:45:40,157 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":0,"errmsg":"updated"}
2025-11-13 20:45:40,157 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 0
2025-11-13 20:45:40,159 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:45:40,161 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/update?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA
2025-11-13 20:46:16,858 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60003,"errmsg":"department not found, hint: [1763037977199950822923177], from ip: 218.24.198.37, more info at https://open.work.weixin.qq.com/devtool/query?e=60003"}
2025-11-13 20:46:16,858 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60003
2025-11-13 20:46:16,859 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:46:16,863 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA&id=5
2025-11-13 20:46:22,692 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763037982016361526074029], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 20:46:22,692 - [ERROR] - assertions.py:31 - 
❌ JSONPath 断言失败：$.errcode
期望值: 0
实际值: 60123

2025-11-13 20:46:22,703 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA&id=1
2025-11-13 20:46:26,601 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60005,"errmsg":"department contains user, hint: [1763037987501862281933387], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60005"}
2025-11-13 20:46:26,601 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60005
2025-11-13 20:46:26,601 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
2025-11-13 20:46:26,603 - [INFO] - base_api.py:17 - 请求接口为：https://qyapi.weixin.qq.com/cgi-bin/department/delete?access_token=Idu6dIIaZLRMPlYGgzWhLdRUhT6278ThhNW0_MpbHMiffP1TnQ-vp-9-Ss-M0OlZYZYemh3MYgG-I9LjgNeog2F2Q5P2AQkK3c411TUI9NwSdjCZXXbUCxMuscsfOsDOOJMbdBahJg60KB-kNWGGxW25Tk1PIB8n45b-ye_MJB3yuCUNcwCbJ6pbNlv7dawvZoYhR-FflhrZ3pVjz5BBHA&id=99999
2025-11-13 20:46:27,699 - [INFO] - base_api.py:19 - 接口响应为：{"errcode":60123,"errmsg":"invalid party id, hint: [1763037987499300924454708], from ip: 218.24.198.29, more info at https://open.work.weixin.qq.com/devtool/query?e=60123"}
2025-11-13 20:46:27,700 - [INFO] - assertions.py:29 - ✅ JSONPath 断言成功：$.errcode = 60123
2025-11-13 20:46:27,702 - [INFO] - schema.py:24 - ✅ JSON Schema 校验通过
